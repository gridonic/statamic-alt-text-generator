function p(a,e,i,l,n,r,d,_){var t=typeof a=="function"?a.options:a;e&&(t.render=e,t.staticRenderFns=i,t._compiled=!0),l&&(t.functional=!0),r&&(t._scopeId="data-v-"+r);var s;if(d?(s=function(o){o=o||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,!o&&typeof __VUE_SSR_CONTEXT__<"u"&&(o=__VUE_SSR_CONTEXT__),n&&n.call(this,o),o&&o._registeredComponents&&o._registeredComponents.add(d)},t._ssrRegister=s):n&&(s=_?function(){n.call(this,(t.functional?this.parent:this).$root.$options.shadowRoot)}:n),s)if(t.functional){t._injectStyles=s;var f=t.render;t.render=function(h,u){return s.call(u),f(h,u)}}else{var c=t.beforeCreate;t.beforeCreate=c?[].concat(c,s):[s]}return{exports:a,options:t}}const g={mixins:[Fieldtype],props:{meta:Array,value:String},data(){return{isLoading:!1,responseData:this.responseData,data:this.value}},watch:{data(a){this.update(a)}},methods:{handleButtonClick(){this.isLoading=!0,this.sendDataToBackend()},async sendDataToBackend(){const a={imageUrl:window.location.href,textLanguage:this.meta.language},e=JSON.stringify(a),l=await(await fetch("/api/altTextGeneratorEndpoint",{method:"POST",headers:{"Content-Type":"application/json"},body:e})).text();try{const n=JSON.parse(l);console.log(n);const r=n.altText;localStorage.setItem("altTextToStore",r);const d=document.querySelector('input[name="alt_de"]');this.update(d,{elementId:r}),this.isLoading=!1}catch(n){console.log(n)}}}};var m=function(){var e=this,i=e._self._c;return i("div",{attrs:{disabled:"this.isLoading"}},[i("button",{staticClass:"btn",attrs:{id:"requestButton",type:"button"},on:{click:e.handleButtonClick}},[e._v(" Generate ")]),e.isLoading?i("div",{staticClass:"loading-indicator"},[e._v(" Generating alt text... ")]):e._e()])},v=[],C=p(g,m,v,!1,null,null,null,null);const T=C.exports;Statamic.booting(()=>{Statamic.$components.register("generate_button-fieldtype",T)});

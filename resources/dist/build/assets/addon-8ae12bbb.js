function h(i,o,d,a,n,r,t,u){var e=typeof i=="function"?i.options:i;o&&(e.render=o,e.staticRenderFns=d,e._compiled=!0),a&&(e.functional=!0),r&&(e._scopeId="data-v-"+r);var l;if(t?(l=function(s){s=s||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,!s&&typeof __VUE_SSR_CONTEXT__<"u"&&(s=__VUE_SSR_CONTEXT__),n&&n.call(this,s),s&&s._registeredComponents&&s._registeredComponents.add(t)},e._ssrRegister=l):n&&(l=u?function(){n.call(this,(e.functional?this.parent:this).$root.$options.shadowRoot)}:n),l)if(e.functional){e._injectStyles=l;var p=e.render;e.render=function(_,f){return l.call(f),p(_,f)}}else{var c=e.beforeCreate;e.beforeCreate=c?[].concat(c,l):[l]}return{exports:i,options:e}}const g={mixins:[Fieldtype],props:{meta:Array,altText:String},data(){return{isLoading:!1}},mounted(){this.init(),this.parentNode().addEventListener("click",()=>{setTimeout(this.init(),500)})},methods:{init(){this.parentNode().querySelectorAll(".publish-field").forEach(d=>{const n=d.closest(".form-group").querySelector(".publish-field-label"),r=n.getAttribute("for");if(r.endsWith("_section")||r.endsWith("_inputs")||n.querySelector(".generate-button"))return;const t=document.createElement("button");t.className="generate-button",t.id="generate-button",t.innerHTML="&nbsp;",t.type="button",t.setAttribute("title","Generate Alt-Text"),setTimeout(()=>{t.addEventListener("click",u=>{this.sendData(u)},!1)},500),n.appendChild(t)})},parentNode(){return this.$refs.node.closest(".publish-sections")},sendData(i){let o="";const a=i.currentTarget.closest(".form-group").querySelector(".input-group").querySelector(".input-text");a.getAttribute("id")==="field_alt_de"?o="de":a.getAttribute("id")==="field_alt_fr"?o="fr":a.getAttribute("id")==="field_alt_en"&&(o="en");const n=JSON.stringify({imageUrl:window.location.href,textLanguage:o});fetch("/api/altTextGeneratorEndpoint",{method:"POST",headers:{"Content-Type":"application/json"},body:n}).then(r=>r.json()).then(r=>{a.value=r.altText;const t=new Event("input",{bubbles:!0,cancelable:!0});a.dispatchEvent(t)}).catch(r=>{console.log(r)})}}};var b=function(){var o=this,d=o._self._c;return d("div",{ref:"node"})},m=[],v=h(g,b,m,!1,null,null,null,null);const N=v.exports;Statamic.booting(()=>{Statamic.$components.register("alt_text_generator_inputs-fieldtype",N)});
